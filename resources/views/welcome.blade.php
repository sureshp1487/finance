<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Selvaganapathy Finance Group - Small Business & Daily Loans in Chennai</title>
    <meta name="description" content="Selvaganapathy Finance Group offers instant small business loans, vehicle loans, and daily collection loans in Chennai. Easy repayment options for shopkeepers and vendors.">
    <meta name="keywords" content="finance chennai, small business loan, daily collection loan, personal loan, vehicle loan, selvaganapathy finance, kodambakkam finance">
    <meta name="robots" content="index, follow">
     <link rel="icon" type="image/png" sizes="" href="{{ asset('img/assets/logo-sg.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('img/assets/logo-sg.png') }}">
    <link rel="canonical" href="https://selvaganapathyfinancegroup.com">
    
    <!-- Styles & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
        }
        .tamil-text {
            font-family: 'Noto Sans Tamil', sans-serif;
            line-height: 1.6;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        }
        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            width: 100%; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #1e3a8a;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #bfdbfe;
            border-radius: 2px;
        }
        /* Form Error Styling */
        .input-error {
            border-color: #ef4444 !important;
            border-width: 2px !important;
        }
        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        /* Custom Bootstrap Toast Styling */
        .toast {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .input-error:focus {
            border-color: #ef4444 !important;
            box-shadow: 0 0 0 0.25rem rgba(239, 68, 68, 0.25) !important;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Navigation -->
    <nav class="bg-white shadow-md fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                      <div class="flex"><span>                        <x-application-logo class="block h-9 w-auto fill-current text-gray-800 dark:text-gray-200" />
</span>
                <div class="flex-shrink-0 flex flex-col justify-center">
              
                    <span class="font-bold text-xl text-blue-900 uppercase tracking-wider">Selvaganapathy</span>
                    <span class="text-sm text-blue-600 font-semibold tamil-text">செல்வகணபதி பைனான்ஸ்</span>
                </div></div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#home" class="text-gray-700 hover:text-blue-900 font-medium">Home</a>
                    <a href="#about" class="text-gray-700 hover:text-blue-900 font-medium">About Us</a>
                    <a href="#calculator" class="text-gray-700 hover:text-blue-900 font-medium">Calculator</a>
                    <a href="#services" class="text-gray-700 hover:text-blue-900 font-medium">Services</a>
                    <a href="#contact" class="bg-blue-900 text-white px-4 py-2 rounded-md hover:bg-blue-800 transition">Contact Us</a>
                </div>
                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-gray-700 hover:text-blue-900 focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <a href="#home" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Home / முகப்பு</a>
            <a href="#about" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">About / எங்களை பற்றி</a>
            <a href="#calculator" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">EMI Calculator / கால்குலேட்டர்</a>
            <a href="#services" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Services / சேவைகள்</a>
            <a href="#contact" class="block px-4 py-2 text-blue-900 font-bold hover:bg-gray-100">Contact / தொடர்பு</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="pt-28 pb-20 gradient-bg text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 mb-10 md:mb-0">
                <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight">
                    Grow Your Business with Easy Loans
                </h1>
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-yellow-300 tamil-text">
                    உங்கள் வியாபார வளர்ச்சிக்கு உடனடி கடன் உதவி
                </h2>
                <p class="text-lg mb-2 opacity-90">Small amounts, easy daily repayment. We support small businesses in Chennai.</p>
                <p class="text-lg mb-8 opacity-90 tamil-text">சிறிய கடன் தொகை, சுலபமான தினசரித் தவணை. சிறு தொழிலுக்கு உற்ற துணை.</p>
                
                <a href="#contact" class="inline-block bg-yellow-400 text-blue-900 font-bold px-8 py-3 rounded-full hover:bg-yellow-300 transition shadow-lg transform hover:scale-105">
                    Apply Now / விண்ணப்பிக்க
                </a>
            </div>
            <div class="md:w-1/2 flex justify-center">
                <div class="bg-white bg-opacity-10 p-8 rounded-full">
                    <svg class="w-64 h-64 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-blue-900 mb-2">About Us</h2>
            <h3 class="text-2xl font-bold text-blue-700 mb-8 tamil-text">எங்களை பற்றி</h3>
            
            <div class="max-w-3xl mx-auto bg-blue-50 p-8 rounded-lg shadow-sm border-l-4 border-blue-600">
                <p class="text-gray-700 text-lg mb-6">
                    <strong>Selvaganapathy Finance Group</strong> is a trusted finance company in Kodambakkam, Chennai, dedicated to helping local vendors, shopkeepers, and small business owners. We understand the value of daily cash flow, which is why we offer loans that can be repaid in small, manageable daily amounts.
                </p>
                <hr class="border-blue-200 mb-6">
                <p class="text-gray-800 text-lg tamil-text leading-relaxed">
                    <strong>செல்வகணபதி பைனான்ஸ் குரூப்</strong> சென்னை கோடம்பாக்கத்தில் அமைந்துள்ள சிறு வியாபாரிகள் மற்றும் கடை உரிமையாளர்களின் நம்பிக்கைக்குரிய நிதி நிறுவனமாகும். உங்கள் அன்றாட பணத்தேவையை உணர்ந்து, நாங்கள் எளிய முறையில் கடன் வழங்குகிறோம்.
                </p>
            </div>
        </div>
    </section>

    <!-- Loan Calculator Section -->
    <section id="calculator" class="py-16 bg-blue-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-blue-900">Loan EMI Calculator</h2>
                <p class="text-gray-600 mt-2 tamil-text">கடன் தவணை கணக்கிடும் முறை</p>
            </div>
            
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <!-- Sliders Side -->
                    <div class="space-y-8">
                        <!-- Amount -->
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2 flex justify-between">
                                <span>Loan Amount (₹)</span>
                                <input type="number" id="loanAmountInput" min="50000" max="5000000" step="1000" class="text-blue-600 font-bold text-right border-b border-gray-300 focus:outline-none w-24" value="500000">
                            </label>
                            <input type="range" min="50000" max="5000000" step="10000" value="500000" id="loanAmount" class="w-full">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>₹50K</span>
                                <span>₹50L</span>
                            </div>
                            <p class="error-message text-xs mt-1" id="calculatorLoanAmountError"></p>
                        </div>

                        <!-- Interest -->
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2 flex justify-between">
                                <span>Interest Rate (%)</span>
                                <input type="number" id="interestRateInput" min="1" max="25" step="0.1" class="text-blue-600 font-bold text-right border-b border-gray-300 focus:outline-none w-16" value="8.5">
                            </label>
                            <input type="range" min="1" max="25" step="0.1" value="8.5" id="interestRate" class="w-full">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>1%</span>
                                <span>25%</span>
                            </div>
                        </div>

                        <!-- Tenure -->
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2 flex justify-between">
                                <span>Loan Tenure (Years)</span>
                                <input type="number" id="loanTenureInput" min="1" max="30" step="1" class="text-blue-600 font-bold text-right border-b border-gray-300 focus:outline-none w-16" value="5">
                            </label>
                            <input type="range" min="1" max="30" step="1" value="5" id="loanTenure" class="w-full">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>1 Yr</span>
                                <span>30 Yrs</span>
                            </div>
                        </div>
                    </div>

                    <!-- Result Side -->
                    <div class="bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl p-6 text-white flex flex-col justify-center items-center text-center">
                        <div class="mb-6">
                            <p class="text-blue-200 text-sm uppercase tracking-wide mb-1">Estimated Monthly EMI</p>
                            <h3 class="text-4xl font-bold" id="emiValue">₹10,258</h3>
                        </div>
                        
                        <div class="w-full border-t border-blue-700 pt-6 space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-blue-200 text-sm">Total Interest</span>
                                <span class="font-bold" id="totalInterest">₹1,15,498</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-blue-200 text-sm">Total Payment</span>
                                <span class="font-bold text-xl text-yellow-400" id="totalPayment">₹6,15,498</span>
                            </div>
                        </div>
                        <p class="text-xs text-blue-300 mt-6 italic">*Terms and conditions apply. Indicative figures only.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services / How it Works -->
    <section id="services" class="py-16 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-blue-900">Our Services</h2>
                <p class="text-xl text-gray-600 mt-2 tamil-text">எங்கள் சேவைகள்</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 text-2xl">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Instant Small Loans</h3>
                    <h4 class="text-lg font-semibold text-blue-600 mb-4 tamil-text">உடனடி சிறுகடன்</h4>
                    <p class="text-gray-600 mb-4 text-sm">Get quick cash for your business needs without heavy documentation.</p>
                </div>

                <!-- Card 2 -->
                <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition text-center border-t-4 border-yellow-400">
                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600 text-2xl">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Daily Collection</h3>
                    <h4 class="text-lg font-semibold text-blue-600 mb-4 tamil-text">தினசரி வசூல் முறை</h4>
                    <p class="text-gray-600 mb-4 text-sm">Repay your loan in small daily parts. Easy on your pocket.</p>
                </div>

                <!-- Card 3 -->
                <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 text-2xl">
                        <i class="fas fa-car"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Vehicle & Personal</h3>
                    <h4 class="text-lg font-semibold text-blue-600 mb-4 tamil-text">வாகன மற்றும் தனிநபர் கடன்</h4>
                    <p class="text-gray-600 mb-4 text-sm">Loans for buying vehicles or personal emergencies.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-blue-900 mb-2">Get in Touch / தொடர்பு கொள்ள</h2>
                <p class="text-gray-600">Fill the form below to apply for a loan</p>
            </div>
            
            <div class="flex flex-col lg:flex-row gap-10">
                
                <!-- Contact Form -->
                <div class="w-full lg:w-1/2 bg-gray-50 p-8 rounded-lg shadow-lg border border-gray-200">
                    <form id="loanForm" class="space-y-4">
                        <!-- CSRF Token (for Laravel) -->
                        <input type="hidden" name="_token" id="csrf-token" value="{{ csrf_token() }}">
                        
                        <!-- Name -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Name / பெயர்</label>
                            <input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition" placeholder="Your Name">
                            <p class="error-message" id="nameError">Please enter your name.</p>
                        </div>
                        
                        <!-- Email -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Email / மின்னஞ்சல்</label>
                            <input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition" placeholder="Your Email">
                            <p class="error-message" id="emailError">Please enter a valid email address.</p>
                        </div>

                        <!-- Phone -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Phone Number / அலைபேசி எண்</label>
                            <input type="tel" id="phone" name="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition" placeholder="Your Phone Number">
                            <p class="error-message" id="phoneError">Please enter a valid phone number.</p>
                        </div>

                        <!-- Loan Amount -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Loan Amount / கடன் தொகை</label>
                            <input type="number" id="loan_amount" name="loan_amount" 
                                   min="10000" max="500000" step="1000" 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition" 
                                   placeholder="Loan Amount" value="10000">
                            <p class="error-message" id="loanAmountError">Please enter a valid loan amount between ₹10,000 and ₹50,00,000.</p>
                        </div>

                        <!-- Loan Type Dropdown -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Loan Type / கடன் வகை</label>
                            <div class="relative">
                                <select id="loan_type" name="loan_type" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 appearance-none bg-white transition">
                                    <option value="" disabled selected>Select Loan Type</option>
                                    <option value="Home Loan">Home Loan (வீட்டு கடன்)</option>
                                    <option value="Vehicle Loan">Vehicle Loan (வாகன கடன்)</option>
                                    <option value="Personal Loan">Personal Loan (தனிநபர் கடன்)</option>
                                    <option value="Business Loan">Business Loan (வியாபார கடன்)</option>
                                    <option value="Education Loan">Education Loan (கல்வி கடன்)</option>
                                    <option value="Leasing">Leasing Services</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                                </div>
                            </div>
                            <p class="error-message" id="loanTypeError">Please select a loan type.</p>
                        </div>

                        <!-- Message -->
                        <div>
                            <label class="block text-gray-700 font-bold mb-1 text-sm">Message / செய்தி</label>
                            <textarea id="message" name="message" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition" placeholder="Tell us about your requirement..."></textarea>
                        </div>

                        <button type="submit" class="w-full bg-blue-900 text-white font-bold py-3 rounded-lg hover:bg-blue-800 transition transform hover:-translate-y-1 shadow-md">
                            Submit Application / சமர்ப்பிக்கவும்
                        </button>
                    </form>
                </div>
                
                <!-- Contact Info & Map -->
                <div class="w-full lg:w-1/2 flex flex-col space-y-6">
                    <!-- Info Cards -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-600">
                            <i class="fas fa-map-marker-alt text-blue-600 text-2xl mb-2"></i>
                            <h4 class="font-bold text-gray-800">Our Address</h4>
                            <p class="text-sm text-gray-600 mt-1">
                                #24/1, Vellalar Street,<br>
                                Kodambakkam,<br>
                                Chennai - 600024
                            </p>
                        </div>
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-yellow-500">
                            <i class="fas fa-phone-alt text-yellow-600 text-2xl mb-2"></i>
                            <h4 class="font-bold text-gray-800">Call Us</h4>
                            <p class="text-sm text-gray-600 mt-1 font-mono font-bold text-lg">
                                +91 73585 96377
                            </p>
                            <p class="text-xs text-gray-500">Mon-Sat, 9am - 7pm</p>
                        </div>
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-green-500 sm:col-span-2">
                            <i class="fas fa-envelope text-green-600 text-2xl mb-2"></i>
                            <h4 class="font-bold text-gray-800">Email Us</h4>
                            <p class="text-sm text-gray-600 mt-1">
                sgfinancetech@gmail.com
                            </p>
                        </div>
                    </div>

                    <!-- Map -->
                    <div class="rounded-lg overflow-hidden shadow-lg border border-gray-200 flex-grow h-64 md:h-auto">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3886.7149561535116!2d80.21665997507787!3d13.053807087269144!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTPCsDAzJzEzLjciTiA4MMKwMTMnMDkuMyJF!5e0!3m2!1sen!2sin!4v1764855994712!5m2!1sen!2sin" 
                            width="100%" 
                            height="100%" 
                            style="border:0; min-height: 250px;" 
                            allowfullscreen="" 
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <h3 class="text-lg font-bold mb-4 text-yellow-400">Selvaganapathy Finance</h3>
                    <p class="text-sm text-gray-400">Your trusted partner for financial growth in Chennai. We simplify loans for everyone.</p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4 text-yellow-400">Quick Links</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#home" class="hover:text-white">Home</a></li>
                        <li><a href="#calculator" class="hover:text-white">Loan Calculator</a></li>
                        <li><a href="#contact" class="hover:text-white">Apply Now</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4 text-yellow-400">Contact</h3>
                    <p class="text-sm text-gray-400">#24/1, Vellalar Street, Kodambakkam, Chennai - 600024</p>
                    <p class="text-sm text-gray-400 mt-2">Ph: 91 73585 96377</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm text-gray-500">
                <p>&copy; 2025 Selvaganapathy Finance Group. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;">
        <div id="successToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    Application submitted successfully. We will contact you soon!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
        
        <div id="errorToast" class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body" id="errorToastMessage">
                    Failed to submit application. Please try again later.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- WhatsApp Float -->
    <a href="https://wa.me/917358596377" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition flex items-center justify-center z-50 transform hover:scale-110">
        <i class="fab fa-whatsapp text-3xl"></i>
    </a>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // --- AJAX Form Submission ---
        document.addEventListener('DOMContentLoaded', function() {
            const loanForm = document.getElementById('loanForm');
            
            // Initialize Bootstrap Toasts
            const successToast = new bootstrap.Toast(document.getElementById('successToast'));
            const errorToast = new bootstrap.Toast(document.getElementById('errorToast'));
            
            // Function to show error toast with custom message
            function showErrorToast(message) {
                document.getElementById('errorToastMessage').textContent = message;
                errorToast.show();
            }
            
            // Function to clear all error messages
            function clearErrors() {
                const errorMessages = document.querySelectorAll('.error-message');
                const errorInputs = document.querySelectorAll('.input-error');
                
                errorMessages.forEach(error => {
                    error.style.display = 'none';
                });
                
                errorInputs.forEach(input => {
                    input.classList.remove('input-error');
                });
            }
            
            // Function to display field-specific errors
            function displayFieldErrors(errors) {
                clearErrors();
                
                for (const field in errors) {
                    const errorElement = document.getElementById(field + 'Error');
                    const inputElement = document.getElementById(field);
                    
                    if (errorElement && inputElement) {
                        // Handle loan amount specific messages
                        if (field === 'loan_amount') {
                            if (errors[field][0].includes('at least')) {
                                errorElement.textContent = 'Loan amount must be at least ₹50,000';
                            } else if (errors[field][0].includes('exceed')) {
                                errorElement.textContent = 'Loan amount cannot exceed ₹50,00,000';
                            } else {
                                errorElement.textContent = errors[field][0];
                            }
                        } else if (field === 'phone') {
                            errorElement.textContent = 'Please enter a valid 10-digit Indian mobile number';
                        } else {
                            errorElement.textContent = errors[field][0];
                        }
                        errorElement.style.display = 'block';
                        inputElement.classList.add('input-error');
                    }
                }
            }
            
            // Function to validate loan amount
            function validateLoanAmount(value, elementId, errorElementId) {
                const errorElement = document.getElementById(errorElementId);
                const inputElement = document.getElementById(elementId);
                
                if (value < 50000) {
                    errorElement.textContent = 'Loan amount must be at least ₹50,000';
                    errorElement.style.display = 'block';
                    if (inputElement) inputElement.classList.add('input-error');
                    return false;
                } else if (value > 5000000) {
                    errorElement.textContent = 'Loan amount cannot exceed ₹50,00,000';
                    errorElement.style.display = 'block';
                    if (inputElement) inputElement.classList.add('input-error');
                    return false;
                } else {
                    errorElement.style.display = 'none';
                    if (inputElement) inputElement.classList.remove('input-error');
                    return true;
                }
            }
            
            // Real-time loan amount validation for form input
            document.getElementById('loan_amount').addEventListener('input', function() {
                const value = parseFloat(this.value);
                validateLoanAmount(value, 'loan_amount', 'loanAmountError');
            });
            
            // Real-time loan amount validation for calculator input
            document.getElementById('loanAmountInput').addEventListener('input', function() {
                const value = parseFloat(this.value);
                const isValid = validateLoanAmount(value, 'loanAmountInput', 'calculatorLoanAmountError');
                
                // Also update form loan amount and validate it
                const formLoanAmount = document.getElementById('loan_amount');
                if (formLoanAmount && isValid) {
                    formLoanAmount.value = value;
                    validateLoanAmount(value, 'loan_amount', 'loanAmountError');
                }
            });
            
            // Form submission handler
            loanForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Clear previous errors
                clearErrors();
                
                // Client-side validation
                const loanAmount = parseFloat(document.getElementById('loan_amount').value);
                const loanAmountValid = validateLoanAmount(loanAmount, 'loan_amount', 'loanAmountError');
                
                // Validate required fields
                let isValid = loanAmountValid;
                const requiredFields = ['name', 'email', 'phone', 'loan_type'];
                
                requiredFields.forEach(field => {
                    const element = document.getElementById(field);
                    const errorElement = document.getElementById(field + 'Error');
                    
                    if (!element.value.trim()) {
                        errorElement.style.display = 'block';
                        element.classList.add('input-error');
                        isValid = false;
                    }
                });
                
                // Validate phone format
                const phone = document.getElementById('phone').value;
                const phoneRegex = /^[6-9]\d{9}$/;
                if (phone && !phoneRegex.test(phone)) {
                    document.getElementById('phoneError').textContent = 'Please enter a valid 10-digit Indian mobile number';
                    document.getElementById('phoneError').style.display = 'block';
                    document.getElementById('phone').classList.add('input-error');
                    isValid = false;
                }
                
                // Validate email format
                const email = document.getElementById('email').value;
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (email && !emailRegex.test(email)) {
                    document.getElementById('emailError').style.display = 'block';
                    document.getElementById('email').classList.add('input-error');
                    isValid = false;
                }
                
                if (!isValid) {
                    // Scroll to first error
                    const firstError = document.querySelector('.input-error');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        firstError.focus();
                    }
                    showErrorToast('Please correct the errors in the form.');
                    return;
                }
                
                // Get form data
                const formData = new FormData(loanForm);
                
                // Show loading state on submit button
                const submitButton = loanForm.querySelector('button[type="submit"]');
                const originalText = submitButton.innerHTML;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                submitButton.disabled = true;
                
                // AJAX request
                fetch('/admin/contact/submit', {
                    method: 'POST',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    },
                    body: formData
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.success) {
                        // Show success toast
                        successToast.show();
                        
                        // Reset form
                        loanForm.reset();
                        
                        // Reset loan amount to default
                        document.getElementById('loan_amount').value = '10000';
                        
                        // Reset calculator
                        document.getElementById('loanAmountInput').value = '10000';
                        document.getElementById('loanAmount').value = '10000';
                        calculateEMI();
                    } else if (data.errors) {
                        // Display validation errors
                        displayFieldErrors(data.errors);
                        showErrorToast('Please correct the errors in the form.');
                    } else {
                        showErrorToast(data.error || 'An unexpected error occurred.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    showErrorToast('Failed to submit application. Please try again later.');
                })
                .finally(() => {
                    // Reset button state
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                });
            });
            
            // --- Loan Calculator Logic ---
            const loanAmountSlider = document.getElementById('loanAmount');
            const loanAmountInput = document.getElementById('loanAmountInput');
            const interestRateSlider = document.getElementById('interestRate');
            const interestRateInput = document.getElementById('interestRateInput');
            const loanTenureSlider = document.getElementById('loanTenure');
            const loanTenureInput = document.getElementById('loanTenureInput');
            
            const emiValue = document.getElementById('emiValue');
            const totalPayment = document.getElementById('totalPayment');
            const totalInterest = document.getElementById('totalInterest');
            
            function formatCurrency(amount) {
                return '₹' + amount.toLocaleString('en-IN');
            }
            
            function calculateEMI() {
                const principal = parseFloat(loanAmountInput.value);
                const rate = parseFloat(interestRateInput.value) / 12 / 100; 
                const tenure = parseFloat(loanTenureInput.value) * 12; 
                
                let emi = 0;
                let total = 0;
                let interest = 0;

                if (principal > 0 && rate > 0 && tenure > 0) {
                    emi = principal * rate * Math.pow(1 + rate, tenure) / (Math.pow(1 + rate, tenure) - 1);
                    total = emi * tenure;
                    interest = total - principal;
                }
                
                if(isFinite(emi)) {
                    emiValue.textContent = formatCurrency(Math.round(emi));
                    totalPayment.textContent = formatCurrency(Math.round(total));
                    totalInterest.textContent = formatCurrency(Math.round(interest));
                    
                    // Update loan amount in form
                    const formLoanAmount = document.getElementById('loan_amount');
                    if (formLoanAmount) {
                        formLoanAmount.value = principal;
                        // Validate the updated amount
                        validateLoanAmount(principal, 'loan_amount', 'loanAmountError');
                    }
                }
            }
            
            // Sync Helper
            function syncInputs(slider, input) {
                slider.addEventListener('input', () => { 
                    input.value = slider.value; 
                    calculateEMI(); 
                });
                input.addEventListener('input', () => { 
                    slider.value = input.value; 
                    calculateEMI(); 
                });
            }

            syncInputs(loanAmountSlider, loanAmountInput);
            syncInputs(interestRateSlider, interestRateInput);
            syncInputs(loanTenureSlider, loanTenureInput);
            
            calculateEMI();
        });
    </script>

</body>
</html>